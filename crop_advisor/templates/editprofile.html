<!-- base file to extend-->
{% extends 'base.html' %}

{% block nav %}
<div class="collapse navbar-collapse" id="navbarResponsive">
	<ul class="navbar-nav ml-auto">
		<li class="nav-item">
			<a class="nav-link text-white" href="{{ url_for('home') }}">Home</a>
		</li>
		<li class="nav-item">
			<a class="nav-link text-white" href="{{ url_for('weatherinformation') }}">Weather information</a>
		</li>
		<li class="nav-item">
			<a class="nav-link text-white" href="{{ url_for('adminabout') }}">About</a>
		</li>
		<li class="nav-item">
			<a class="nav-link text-white" href="{{ url_for('contactus') }}">Contact us</a>
		</li>
		<li class="dropdown nav-item ">
			<a class="dropdown-toggle nav-link text-white" data-toggle="dropdown" href="#">Account</a>
                            <ul class="dropdown-menu" style="background-color: #C0C0C0;">
                                <li><a class=" nav-link text-white" href="{{url_for('userprofile')}}">profile</a></li>
								<li><a class=" nav-link text-white" href="{{url_for('userchangepassword')}}">Change password</a></li>
								<li><a class=" nav-link text-white" href="{{url_for('userlogout')}}">Log Out</a></li>
							</ul>
		</li>
		</ul>
</div>

{% endblock nav%}

{% block body %}
</br>
</br>
<div class="row h-100 justify-content-center text-center">
{% with messages = get_flashed_messages(with_categories=true) %}
            {% if messages %}
              {% for category, message in messages %}
                <div class="alert alert-{{ category }}" style="width:50%">
                  {{ message }}
                  <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                <span aria-hidden="true">&times;</span>
                </button>
                </div>
                
              {% endfor %}
            {% endif %}
          {% endwith %}
          </div>

	<div class="row h-100 justify-content-center">
		<div class="content-section">
			<form method="POST" action="{{url_for('editprofile')}}" enctype="multipart/form-data">
            {{ form.hidden_tag() }}
            <fieldset class="form-group">
                <legend class="border-bottom mb-4">Account Info</legend>
                <div class="form-group">
                    {{ form.username.label(class="form-control-label") }}

                    {% if form.username.errors %}
                        {{ form.username(class="form-control form-control-lg is-invalid") }}
                        <div class="invalid-feedback">
                            {% for error in form.username.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{ form.username(class="form-control form-control-lg") }}
                    {% endif %}
                </div>
                <div class="form-group">
                    {{ form.email.label(class="form-control-label") }}
                    {% if form.email.errors %}
                        {{ form.email(class="form-control form-control-lg is-invalid") }}
                        <div class="invalid-feedback">
                            {% for error in form.email.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{ form.email(class="form-control form-control-lg") }}
                    {% endif %}
                </div>
				
				<div class="form-group">
                    {{ form.phone.label(class="form-control-label") }}
                    {% if form.phone.errors %}
                        {{ form.phone(class="form-control form-control-lg is-invalid") }}
                        <div class="invalid-feedback">
                            {% for error in form.phone.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{ form.phone(class="form-control form-control-lg") }}
                    {% endif %}
                </div>
				
				<div class="form-group">
                    {{ form.city.label(class="form-control-label") }}
                    {% if form.city.errors %}
                        {{ form.city(class="form-control form-control-lg is-invalid") }}
                        <div class="invalid-feedback">
                            {% for error in form.city.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                        {{ form.city(class="form-control form-control-lg") }}
                    {% endif %}
                </div>
				
                <div class="form-group">
                    {{ form.picture.label() }}
                    {{ form.picture(class="form-control-file") }}
                    {% if form.picture.errors %}
                        {% for error in form.picture.errors %}
                            <span class="text-danger">{{ error }}</span></br>
                        {% endfor %}
                    {% endif %}
                </div>
            </fieldset>
            <div class="form-group">
                {{ form.submit(class="btn btn-lg btn-primary btn-block") }}
            </div>
        </form>
		
		</div>
		
	</div>
		  
{% endblock %}
{%block footer %}
<footer class="footer" style="background-color: rgba(38,72,43,0.2);">
</br>
	<div class="container" >
		<h2 class="logo2 text-center">
				<a href="{{ url_for('userhome') }}">
					CROP ADVISOR
				</a>
			</h2>
        <span class="text-left">Â© 2021 Copyright: Crop Advisor</span>
    </div>
	</br>
</footer>

{%endblock footer%}
